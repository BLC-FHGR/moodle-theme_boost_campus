{"version":3,"sources":["../src/incoursesettings.js"],"names":["define","$","initInCourseSettings","courseSettings","activitySettings","frontpage","hasClass","headerCardBorderBottom","css","on","event","stopPropagation","is","hide","setTimeout","addClass","show","removeClass","init"],"mappings":"AAuBAA,OAAM,uCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,aAKA,QAASC,CAAAA,CAAT,EAAgC,IACxBC,CAAAA,CAAc,CAAGF,CAAC,CAAC,+BAAD,CADM,CAExBG,CAAgB,CAAGH,CAAC,CAAC,iCAAD,CAFI,CAGxBI,CAAS,CAAGJ,CAAC,CAAC,MAAD,CAAD,CAAUK,QAAV,CAAmB,sBAAnB,CAHY,CAIxBC,CAAsB,CAAGN,CAAC,CAAC,oBAAD,CAAD,CAAwBO,GAAxB,CAA4B,eAA5B,CAJD,CAQ5B,GAAI,CAACH,CAAL,CAAgB,CACZJ,CAAC,CAAC,4CAAD,CAAD,CAAgDQ,EAAhD,CAAmD,OAAnD,CAA4D,SAASC,CAAT,CAAgB,CACxEA,CAAK,CAACC,eAAN,GACA,GAAIR,CAAc,CAACS,EAAf,CAAkB,UAAlB,CAAJ,CAAmC,CAC/BT,CAAc,CAACU,IAAf,CAAoB,GAApB,EACAC,UAAU,CAAC,UAAW,CAClBb,CAAC,CAAC,oBAAD,CAAD,CAAwBO,GAAxB,CAA4B,eAA5B,CAA6CD,CAA7C,EACAN,CAAC,CAAC,oBAAD,CAAD,CAAwBc,QAAxB,CAAiC,MAAjC,CACH,CAHS,CAGP,GAHO,CAIb,CAND,IAMO,CACHZ,CAAc,CAACa,IAAf,CAAoB,GAApB,EACAf,CAAC,CAAC,kBAAD,CAAD,CAAsBgB,WAAtB,CAAkC,MAAlC,EACAhB,CAAC,CAAC,oBAAD,CAAD,CAAwBO,GAAxB,CAA4B,eAA5B,CAA6C,MAA7C,EACAL,CAAc,CAACK,GAAf,CAAmB,YAAnB,CAAiC,MAAjC,EAEA,GAAIJ,CAAgB,CAACQ,EAAjB,CAAoB,UAApB,CAAJ,CAAqC,CACjCR,CAAgB,CAACS,IAAjB,CAAsB,GAAtB,CACH,CACJ,CACJ,CAlBD,EAmBAZ,CAAC,CAAC,0DAAD,CAAD,CAA8DQ,EAA9D,CAAiE,OAAjE,CAA0E,SAASC,CAAT,CAAgB,CACtFA,CAAK,CAACC,eAAN,GACA,GAAIP,CAAgB,CAACQ,EAAjB,CAAoB,UAApB,CAAJ,CAAqC,CACjCR,CAAgB,CAACS,IAAjB,CAAsB,GAAtB,CACH,CAFD,IAEO,CACHT,CAAgB,CAACY,IAAjB,CAAsB,GAAtB,EACAF,UAAU,CAAC,UAAW,CAClBb,CAAC,CAAC,oBAAD,CAAD,CAAwBO,GAAxB,CAA4B,eAA5B,CAA6CD,CAA7C,EACAN,CAAC,CAAC,oBAAD,CAAD,CAAwBc,QAAxB,CAAiC,MAAjC,CACH,CAHS,CAGP,GAHO,CAAV,CAKA,GAAIZ,CAAc,CAACS,EAAf,CAAkB,UAAlB,CAAJ,CAAmC,CAC/BT,CAAc,CAACU,IAAf,CAAoB,GAApB,CACH,CACJ,CACJ,CAfD,CAgBH,CACJ,CAED,MAAO,CACHK,IAAI,CAAE,eAAW,CACbhB,CAAoB,EACvB,CAHE,CAKV,CA1DK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Theme Boost Campus - JS code for displaying course setting within the course.\n *\n * @package    theme_boost_campus\n * @copyright  2017 Kathrin Osswald, Ulm University <kathrin.osswald@uni-ulm.de>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery'], function($) {\n    \"use strict\";\n\n    /**\n     * Initialising.\n     */\n    function initInCourseSettings() {\n        var courseSettings = $('#boost-campus-course-settings');\n        var activitySettings = $('#boost-campus-activity-settings');\n        var frontpage = $('body').hasClass('pagelayout-frontpage');\n        var headerCardBorderBottom = $('#page-header .card').css(\"border-bottom\");\n\n        // Only change the behaviour if the setting is enabled and we are not on the frontpage,\n        // because we did not change the settings menu there. So we need the default propagation here.\n        if (!frontpage) {\n            $('#page-header .context-header-settings-menu').on('click', function(event) {\n                event.stopPropagation();\n                if (courseSettings.is(\":visible\")) {\n                    courseSettings.hide(400);\n                    setTimeout(function() {\n                        $('#page-header .card').css('border-bottom', headerCardBorderBottom);\n                        $('#page-header > div').addClass('pb-3');\n                    }, 300);\n                } else {\n                    courseSettings.show(400);\n                    $('#page-header div').removeClass('pb-3');\n                    $('#page-header .card').css('border-bottom', 'none');\n                    courseSettings.css('border-top', 'none');\n                    // Additionally close activity settings if they are currently open.\n                    if (activitySettings.is(\":visible\")) {\n                        activitySettings.hide(400);\n                    }\n                }\n            });\n            $('#region-main-settings-menu .action-menu .dropdown-toggle').on('click', function(event) {\n                event.stopPropagation();\n                if (activitySettings.is(\":visible\")) {\n                    activitySettings.hide(400);\n                } else {\n                    activitySettings.show(400);\n                    setTimeout(function() {\n                        $('#page-header .card').css('border-bottom', headerCardBorderBottom);\n                        $('#page-header > div').addClass('pb-3');\n                    }, 300);\n                    // Additionally close course settings if they are currently open.\n                    if (courseSettings.is(\":visible\")) {\n                        courseSettings.hide(400);\n                    }\n                }\n            });\n        }\n    }\n\n    return {\n        init: function() {\n            initInCourseSettings();\n        }\n    };\n});\n"],"file":"incoursesettings.min.js"}